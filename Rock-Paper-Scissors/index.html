<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <style>
        body {
            background-color: black;
            color: white;
        }
    </style>

    <h1>hello</h1>
    <div id="buttons">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </div>

    <div id="score">
        <p id="computerChoice"></p>
        <p id="humanScore">Human Score: </p>
        <p id="computerScore">Computer Score: </p>
        <p id="winner"></p>
    </div>

    <script>
        const choices = ["rock", "paper", "scissors"]
        let humanScore = 0;
        let computerScore = 0;

        let buttons = document.querySelector("#buttons")
        buttons.addEventListener("click", (event) => {
            let target = event.target;
            switch(target.id){
                case 'rock': 
                    console.log("rock")
                    playRound('rock')
                    break
                case 'paper': 
                    console.log("paper")
                    playRound('paper')
                    break
                case 'scissors':
                    console.log("scirr")
                    playRound('scissors')
                    break
            }
        })

        function getComputerChoice() {
            let i = Math.floor(Math.random() * 3);
            let choice = choices[i];

            return choice;
        }

        function getHumanChoice() {
            let choice = prompt("Choose rock, paper, or scissors");

            while (!choices.includes(choice.toLowerCase())) {
                choice = prompt("Choose rock, paper, or scissors");
            }
            return choice;
        }

        function playRound(val) {
            let computerChoice = getComputerChoice();
            let humanChoice = val;

            if (computerChoice == humanChoice) {
                console.log("It's a tie");
            }
            else {
                switch (humanChoice) {
                    case "rock":
                        if (computerChoice == "scissors") {
                            humanScore++;
                            console.log("You win")
                        }
                        if (computerChoice == "paper") {
                            computerScore++;
                            console.log("You lose")
                        }
                        break;
                    case "paper":
                        if (computerChoice == "rock") {
                            humanScore++;
                            console.log("You win")
                        }
                        if (computerChoice == "scissors") {
                            computerScore++;
                            console.log("You lose")
                        }
                        break;
                    case "scissors":
                        if (computerChoice == "paper") {
                            humanScore++;
                            console.log("You win")
                        }
                        if (computerChoice == "rock") {
                            computerScore++;
                            console.log("You lose")
                        }
                        break;
                    default:
                        console.log("unexpected error")
                }
            }
            let score = document.querySelector("#score");
            let hScore = document.querySelector("#humanScore");
            let cScore = document.querySelector("#computerScore");
            let cChoice = document.querySelector("#computerChoice");

            cChoice.innerHTML = "The computer chose " + computerChoice
            hScore.innerHTML = "Human Score: " + humanScore
            cScore.innerHTML = "Computer Score: " + computerScore
            console.log(cChoice.value)
            let winner = document.querySelector("#winner");

            if(humanScore == 5 || cScore == 5){
                let w = (humanScore == 5) ? "The winner is the human" : "The winner is the computer";
                winner.innerHTML = w
            }
        }

    </script>
</body>

</html>